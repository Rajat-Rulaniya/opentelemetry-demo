aws eks update-kubeconfig --name my-project-cluster --region us-east-1

kubectl create -f opentelemetry-complete.yaml -n otel-demo

eksctl utils associate-iam-oidc-provider --region us-east-1 --cluster my-project-cluster --approve

create iam-policy from json file.

eksctl create iamserviceaccount \
  --cluster=my-project-cluster \
  --namespace=kube-system \
  --name=aws-load-balancer-controller \
  --role-name AmazonEKSLoadBalancerControllerRole \
  --attach-policy-arn=arn:aws:iam::<id>:policy/AWSLoadBalancerControllerIAMPolicy \
  --approve

helm install aws-load-balancer-controller eks/aws-load-balancer-controller \
  -n kube-system \
  --set clusterName=my-project-cluster \
  --set serviceAccount.create=false \
  --set serviceAccount.name=aws-load-balancer-controller \
  --set vpcId=<vpcid> \
  --version 1.13.0

kubectl apply -f ingress.yaml -n otel-demo